<html xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>应用管理-注册</title>

<script type="text/javascript" src="../js/boot.js"></script>

<script>
	
    // 加载JS 文件
    Loader.importJS();
	
    // 加载CSS 文件
    Loader.importCSS();
</script>

</head>
<body>
<form id="appForm">
	<TABLE width="100%" border="0" align="center" cellspacing="1" class="listTable">
	    <colGroup width="15%"></colGroup>
	    <colGroup width="35%"></colGroup>
	    <colGroup width="15%"></colGroup>
	    <colGroup width="35%"></colGroup>
	    <TR>
		    <TD class="listPageTitleTd" colspan="4">应用信息</TD>
	    </TR>
            <tr class="searchTable">
				<td class="modifyTd">ID:</td>
				<td class="modifyTd"><input name="id" width="100%" /></td>
				<td class="modifyTd">名称:</td>
				<td class="modifyTd"><input name="name" /></td>
			</tr>
			<tr class="searchTable">
			<td class="modifyTd">上下文路径:</td>
				<td class="modifyTd" colspan='3'><input name="contextPath" /></td>
			</tr>
            <tr class="searchTable">
				<td class="modifyTd">描述信息:</td>
				<td class="modifyTd" colspan='3'>
				    <textarea name="description" ></textarea>
				</td>
			</tr>
		</tbody>
	</table>
	
	<TABLE cellSpacing='1' width="100%" align='center' border='0'>
        <TR>
            <TD class='listTableButtonTd' align=right>
                <a href="#" onclick="register()">注册</a>
                <a href="app_list.html" onclick="">返回</a>
			</TD>
		</TR>
	</TABLE>
</form>
</body>
<script>

// 应用信息的初始化参数
var app = {oid:'00001', id:'app_1',  name:'测试应用-1', contextPath:'/test',
           description:'测试应用-1', versionOid:'00001'};
		   
var appService = ServiceFactory.getService('app.AppService');

Utils.run(function() {
    BindUtils.bind("appForm", app, {});
});

// 注册当前应用
function register () {
    Utils.run(function() {
	    appService.registerApp(app);
	    document.location.href = 'app_list.html';
    });
}


</script>
</html>
